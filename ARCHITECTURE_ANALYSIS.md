# E2B Infrastructure æ¶æ„åˆ†ææ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

E2B Infrastructureæ˜¯ä¸€ä¸ª**å¼€æºçš„AIä»£ç è§£é‡Šå™¨åŸºç¡€è®¾æ–½**ï¼Œä¸ºAIä»£ç†æä¾›äº‘ç«¯çš„å®‰å…¨ä»£ç æ‰§è¡Œç¯å¢ƒã€‚é¡¹ç›®ä½¿ç”¨**Firecrackerå¾®è™šæ‹Ÿæœº**æŠ€æœ¯æ¥æä¾›é«˜æ€§èƒ½ã€é«˜å®‰å…¨æ€§çš„æ²™ç›’ç¯å¢ƒã€‚

### æ ¸å¿ƒç‰¹æ€§
- ğŸ”’ **å®‰å…¨éš”ç¦»**: åŸºäºFirecrackerå¾®è™šæ‹Ÿæœºçš„å¼ºéš”ç¦»
- ğŸš€ **é«˜æ€§èƒ½**: æ¯«ç§’çº§å†·å¯åŠ¨æ—¶é—´
- ğŸŒ **äº‘åŸç”Ÿ**: æ”¯æŒå¤šäº‘éƒ¨ç½²ï¼Œä¸»è¦æ”¯æŒGCP
- ğŸ“ˆ **å¯æ‰©å±•**: æ°´å¹³æ‰©å±•æ¶æ„ï¼Œæ”¯æŒå¤§è§„æ¨¡å¹¶å‘
- ğŸ› ï¸ **å¼€å‘å‹å¥½**: æä¾›å¤šè¯­è¨€SDKå’ŒCLIå·¥å…·

## æ•´ä½“æ¶æ„è®¾è®¡

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client/SDK    â”‚â”€â”€â”€â”€â–¶â”‚   Client Proxy   â”‚â”€â”€â”€â”€â–¶â”‚   API Gateway   â”‚
â”‚  (JS/Python)    â”‚    â”‚  (Load Balancer) â”‚    â”‚   (REST API)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
                       â”‚  Orchestrator   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚   (Firecracker  â”‚
                       â”‚   Sandboxes)    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚  Template Mgr   â”‚
                       â”‚  (Environment   â”‚
                       â”‚   Templates)    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒæœåŠ¡ç»„ä»¶

### 1. APIæœåŠ¡ (`packages/api`)
**è§’è‰²**: REST APIç½‘å…³å’Œä¸šåŠ¡é€»è¾‘å¤„ç†

**æŠ€æœ¯æ ˆ**:
- Framework: Gin Web Framework
- Language: Go 1.24.3
- Protocol: HTTP/REST + WebSocket

**ä¸»è¦åŠŸèƒ½**:
- ç”¨æˆ·è®¤è¯å’Œæˆæƒç®¡ç†
- æ²™ç›’ç”Ÿå‘½å‘¨æœŸç®¡ç† (åˆ›å»º/æš‚åœ/æ¢å¤/é”€æ¯)
- æ¨¡æ¿ç®¡ç†å’Œæ„å»º
- å®æ—¶æ—¥å¿—æµå¤„ç†
- OpenAPIè§„èŒƒé©±åŠ¨çš„è¯·æ±‚éªŒè¯

**å…³é”®ç‰¹æ€§**:
```go
// ä¸»è¦ç«¯ç‚¹
POST   /sandboxes              // åˆ›å»ºæ²™ç›’
GET    /sandboxes/:id          // è·å–æ²™ç›’ä¿¡æ¯  
POST   /sandboxes/:id/pause    // æš‚åœæ²™ç›’
POST   /sandboxes/:id/resume   // æ¢å¤æ²™ç›’
DELETE /sandboxes/:id          // é”€æ¯æ²™ç›’
```

### 2. Orchestrator (`packages/orchestrator`)
**è§’è‰²**: æ ¸å¿ƒæ²™ç›’ç¼–æ’å¼•æ“

**æŠ€æœ¯æ ˆ**:
- Language: Go 1.24.3
- Virtualization: Firecracker
- Communication: gRPC

**ä¸»è¦åŠŸèƒ½**:
- Firecrackerå¾®è™šæ‹Ÿæœºç®¡ç†
- èµ„æºåˆ†é…å’Œè°ƒåº¦
- ç½‘ç»œè™šæ‹ŸåŒ–å’Œå®‰å…¨éš”ç¦»
- å­˜å‚¨ç®¡ç†å’Œå¿«ç…§
- æ¨¡æ¿æ„å»ºå’Œç¼“å­˜

**æ¶æ„ç‰¹ç‚¹**:
- **NBD (Network Block Device)**: ç½‘ç»œå—è®¾å¤‡æ”¯æŒ
- **UFFD (UserFaultFD)**: ç”¨æˆ·æ€ç¼ºé¡µå¤„ç†
- **TAPç½‘ç»œ**: è™šæ‹Ÿç½‘ç»œæ¥å£
- **èµ„æºæ± ç®¡ç†**: é¢„åˆ†é…å’ŒåŠ¨æ€åˆ†é…ç»“åˆ

### 3. Client Proxy (`packages/client-proxy`)
**è§’è‰²**: è´Ÿè½½å‡è¡¡å’Œè¯·æ±‚è·¯ç”±

**æŠ€æœ¯æ ˆ**:
- Language: Go 1.24.3
- Framework: Gin
- Service Discovery: Consul

**ä¸»è¦åŠŸèƒ½**:
- è´Ÿè½½å‡è¡¡ç®—æ³•å®ç°
- æœåŠ¡å‘ç°å’Œå¥åº·æ£€æŸ¥
- è¿æ¥æ± ç®¡ç†
- æµé‡åˆ†å‘å’Œæ•…éšœè½¬ç§»

### 4. EnvD (`packages/envd`)
**è§’è‰²**: æ²™ç›’å†…å®ˆæŠ¤è¿›ç¨‹

**æŠ€æœ¯æ ˆ**:
- Language: Go 1.24.3
- Protocol: Connect (gRPC-Web)

**ä¸»è¦åŠŸèƒ½**:
- æ–‡ä»¶ç³»ç»Ÿæ“ä½œ (è¯»å†™/ç›‘æ§)
- è¿›ç¨‹ç®¡ç† (å¯åŠ¨/ä¿¡å·/è¾“å‡º)
- ä¸å¤–éƒ¨APIåŒå‘é€šä¿¡
- èµ„æºç›‘æ§å’ŒæŠ¥å‘Š

### 5. Docker Reverse Proxy (`packages/docker-reverse-proxy`)
**è§’è‰²**: Dockeræ³¨å†Œè¡¨ä»£ç†

**ä¸»è¦åŠŸèƒ½**:
- Dockeré•œåƒä»£ç†å’Œç¼“å­˜
- è®¤è¯å’Œæˆæƒ
- é•œåƒæ‹‰å–ä¼˜åŒ–

### 6. å…±äº«åº“ (`packages/shared`)
**è§’è‰²**: å…¬å…±ç»„ä»¶å’Œå·¥å…·åº“

**åŒ…å«æ¨¡å—**:
- æ•°æ®åº“æ¨¡å‹å’ŒæŸ¥è¯¢
- gRPCå®¢æˆ·ç«¯ç”Ÿæˆä»£ç 
- æ—¥å¿—å’Œç›‘æ§å·¥å…·
- å­˜å‚¨æŠ½è±¡å±‚
- Firecrackerå®¢æˆ·ç«¯

## æŠ€æœ¯æ ˆè¯¦ç»†åˆ†æ

### åç«¯æœåŠ¡æ ˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Go 1.24.3               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Web: Gin Framework                 â”‚
â”‚  RPC: gRPC + Connect                â”‚
â”‚  DB:  Ent ORM + SQLC                â”‚
â”‚  Cache: Redis                       â”‚
â”‚  Metrics: OpenTelemetry             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è™šæ‹ŸåŒ–æŠ€æœ¯æ ˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Firecracker Î¼VM              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Hypervisor: Firecracker            â”‚
â”‚  Kernel: Custom Linux               â”‚
â”‚  Network: TAP + Bridge              â”‚
â”‚  Storage: NBD + ext4                â”‚
â”‚  Memory: UFFD + Lazy Loading        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŸºç¡€è®¾æ–½æ ˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Cloud Infrastructure         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Cloud: Google Cloud Platform       â”‚
â”‚  IaC: Terraform                     â”‚
â”‚  Orchestration: Nomad + Consul      â”‚
â”‚  Storage: Google Cloud Storage      â”‚
â”‚  Database: PostgreSQL + ClickHouse  â”‚
â”‚  Monitoring: Grafana + Loki         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å®‰å…¨æ¶æ„è®¾è®¡

### å¤šå±‚å®‰å…¨éš”ç¦»
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Host System                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚         Firecracker VMM             â”‚â”‚  <- è™šæ‹ŸåŒ–å±‚éš”ç¦»
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚      Guest Kernel               â”‚â”‚â”‚  <- å†…æ ¸å±‚éš”ç¦»
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚   User Code Environment     â”‚â”‚â”‚â”‚  <- ç”¨æˆ·æ€éš”ç¦»
â”‚  â”‚  â”‚  â”‚   (Python/Node.js/etc.)     â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â”‚              â”‚                  â”‚â”‚â”‚
â”‚  â”‚  â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”          â”‚â”‚â”‚
â”‚  â”‚  â”‚      â”‚     EnvD      â”‚          â”‚â”‚â”‚  <- ç›‘æ§å’Œæ§åˆ¶å±‚
â”‚  â”‚  â”‚      â”‚   (Daemon)    â”‚          â”‚â”‚â”‚
â”‚  â”‚  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®‰å…¨ç‰¹æ€§
- **å¼ºéš”ç¦»**: Firecrackerå¾®è™šæ‹Ÿæœºæä¾›ç¡¬ä»¶çº§éš”ç¦»
- **æœ€å°æ”»å‡»é¢**: æç®€çš„è™šæ‹ŸåŒ–å±‚ï¼Œå‡å°‘å®‰å…¨æ¼æ´
- **ç½‘ç»œéš”ç¦»**: å¯é…ç½®çš„ç½‘ç»œè®¿é—®ç­–ç•¥
- **èµ„æºé™åˆ¶**: CPUã€å†…å­˜ã€ç£ç›˜çš„ç²¾ç¡®æ§åˆ¶
- **å¿«ç…§å’Œæ¢å¤**: æ”¯æŒæ²™ç›’çŠ¶æ€çš„å¿«é€Ÿæ¢å¤

## æ•°æ®æ¶æ„è®¾è®¡

### æ•°æ®å­˜å‚¨åˆ†å±‚
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Application Layer            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PostgreSQL (ä¸»æ•°æ®åº“)                   â”‚
â”‚  â”œâ”€ ç”¨æˆ·å’Œå›¢é˜Ÿä¿¡æ¯                        â”‚
â”‚  â”œâ”€ ç¯å¢ƒæ¨¡æ¿å®šä¹‰                          â”‚
â”‚  â”œâ”€ æ²™ç›’å…ƒæ•°æ®                           â”‚
â”‚  â””â”€ è®¿é—®ä»¤ç‰Œå’ŒAPIå¯†é’¥                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ClickHouse (æŒ‡æ ‡æ•°æ®åº“)                  â”‚
â”‚  â”œâ”€ æ€§èƒ½æŒ‡æ ‡                             â”‚
â”‚  â”œâ”€ ä½¿ç”¨ç»Ÿè®¡                             â”‚
â”‚  â””â”€ ç›‘æ§æ•°æ®                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Redis (ç¼“å­˜å±‚)                          â”‚
â”‚  â”œâ”€ ä¼šè¯ç¼“å­˜                             â”‚
â”‚  â”œâ”€ è®¤è¯ç¼“å­˜                             â”‚
â”‚  â””â”€ ä¸´æ—¶æ•°æ®                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Google Cloud Storage (å¯¹è±¡å­˜å‚¨)          â”‚
â”‚  â”œâ”€ ç¯å¢ƒæ¨¡æ¿æ–‡ä»¶                          â”‚
â”‚  â”œâ”€ ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶                          â”‚
â”‚  â”œâ”€ æ„å»ºç¼“å­˜                             â”‚
â”‚  â””â”€ å¿«ç…§æ•°æ®                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®æ•°æ®æ¨¡å‹
- **Environment**: ç¯å¢ƒæ¨¡æ¿å®šä¹‰
- **Sandbox**: æ²™ç›’å®ä¾‹
- **Team**: å›¢é˜Ÿå’Œæƒé™ç®¡ç†
- **User**: ç”¨æˆ·ä¿¡æ¯
- **EnvBuild**: ç¯å¢ƒæ„å»ºè®°å½•
- **Snapshot**: æ²™ç›’å¿«ç…§

## ç½‘ç»œæ¶æ„è®¾è®¡

### ç½‘ç»œæ‹“æ‰‘
```
Internet
    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CDN  â”‚â”€â”€â”€â”€â”‚Load Balancerâ”‚â”€â”€â”€â”€â”‚Client Proxy  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                          â”‚                          â”‚
         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚API Nodes â”‚            â”‚Orchestrator    â”‚        â”‚Build Nodes     â”‚
         â”‚          â”‚            â”‚Nodes           â”‚        â”‚                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚Firecracker VMs â”‚
                                 â”‚(Sandboxes)     â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç½‘ç»œå®‰å…¨ç­–ç•¥
- **DMZåˆ†ç¦»**: å…¬ç½‘å’Œå†…ç½‘åˆ†ç¦»
- **å¾®åˆ†æ®µ**: æœåŠ¡é—´ç½‘ç»œéš”ç¦»
- **é˜²ç«å¢™è§„åˆ™**: ç²¾ç¡®çš„ç«¯å£å’Œåè®®æ§åˆ¶
- **TLSåŠ å¯†**: å…¨é“¾è·¯åŠ å¯†é€šä¿¡

## éƒ¨ç½²æ¶æ„è®¾è®¡

### å¤šç¯å¢ƒéƒ¨ç½²
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Production                 â”‚
â”‚  â”œâ”€ å¤šåŒºåŸŸéƒ¨ç½²                           â”‚
â”‚  â”œâ”€ é«˜å¯ç”¨é›†ç¾¤                           â”‚
â”‚  â”œâ”€ è‡ªåŠ¨æ‰©å±•                             â”‚    
â”‚  â””â”€ ç›‘æ§å‘Šè­¦                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               Staging                   â”‚
â”‚  â”œâ”€ ç”Ÿäº§ç¯å¢ƒé•œåƒ                          â”‚
â”‚  â”œâ”€ é›†æˆæµ‹è¯•                             â”‚
â”‚  â””â”€ æ€§èƒ½æµ‹è¯•                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             Development                 â”‚
â”‚  â”œâ”€ å¼€å‘è€…ç¯å¢ƒ                           â”‚
â”‚  â”œâ”€ åŠŸèƒ½æµ‹è¯•                             â”‚
â”‚  â””â”€ å¿«é€Ÿè¿­ä»£                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### éƒ¨ç½²å·¥å…·é“¾
- **åŸºç¡€è®¾æ–½**: Terraform
- **æœåŠ¡ç¼–æ’**: Nomad + Consul
- **å®¹å™¨åŒ–**: Docker
- **CI/CD**: GitHub Actions
- **ç›‘æ§**: Grafana + Prometheus + Loki

## ç›‘æ§å’Œå¯è§‚æµ‹æ€§

### ç›‘æ§ä½“ç³»æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Grafana                    â”‚  <- å¯è§†åŒ–å±‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Prometheus â”‚  Loki  â”‚  Jaeger         â”‚  <- æ•°æ®èšåˆå±‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          OpenTelemetry                  â”‚  <- æ•°æ®æ”¶é›†å±‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Application Services & Infra         â”‚  <- æ•°æ®æºå±‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®æŒ‡æ ‡
- **ä¸šåŠ¡æŒ‡æ ‡**: æ²™ç›’åˆ›å»º/é”€æ¯ç‡ã€ç”¨æˆ·æ´»è·ƒåº¦
- **æ€§èƒ½æŒ‡æ ‡**: å“åº”æ—¶é—´ã€ååé‡ã€èµ„æºåˆ©ç”¨ç‡
- **å¯é æ€§æŒ‡æ ‡**: é”™è¯¯ç‡ã€å¯ç”¨æ€§ã€æ•…éšœæ¢å¤æ—¶é—´
- **åŸºç¡€è®¾æ–½æŒ‡æ ‡**: CPUã€å†…å­˜ã€ç½‘ç»œã€å­˜å‚¨

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### å†·å¯åŠ¨ä¼˜åŒ–
- **æ¨¡æ¿é¢„çƒ­**: å¸¸ç”¨ç¯å¢ƒæ¨¡æ¿é¢„åŠ è½½
- **å¿«ç…§æŠ€æœ¯**: åŸºäºå¿«ç…§çš„å¿«é€Ÿå¯åŠ¨
- **èµ„æºæ± **: é¢„åˆ†é…èµ„æºæ± å‡å°‘å¯åŠ¨æ—¶é—´
- **ç½‘ç»œä¼˜åŒ–**: æœ¬åœ°åŒ–ç½‘ç»œé…ç½®

### æ‰©å±•æ€§ä¼˜åŒ–
- **æ°´å¹³æ‰©å±•**: æ— çŠ¶æ€æœåŠ¡è®¾è®¡
- **ç¼“å­˜ç­–ç•¥**: å¤šå±‚ç¼“å­˜æ¶æ„
- **å¼‚æ­¥å¤„ç†**: éé˜»å¡I/Oå’Œæ¶ˆæ¯é˜Ÿåˆ—
- **è¿æ¥æ± **: æ•°æ®åº“å’Œç½‘ç»œè¿æ¥å¤ç”¨

## å¼€å‘å’Œè¿ç»´

### å¼€å‘å·¥ä½œæµ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å¼€å‘ç¯å¢ƒ   â”‚â”€â”€â”€â”€â”‚   æµ‹è¯•ç¯å¢ƒ   â”‚â”€â”€â”€â”€â”‚   ç”Ÿäº§ç¯å¢ƒ   â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ - æœ¬åœ°å¼€å‘   â”‚    â”‚ - é›†æˆæµ‹è¯•   â”‚    â”‚ - ç°åº¦å‘å¸ƒ   â”‚
â”‚ - å•å…ƒæµ‹è¯•   â”‚    â”‚ - æ€§èƒ½æµ‹è¯•   â”‚    â”‚ - ç›‘æ§å‘Šè­¦   â”‚
â”‚ - ä»£ç å®¡æŸ¥   â”‚    â”‚ - å®‰å…¨æµ‹è¯•   â”‚    â”‚ - æ•…éšœæ¢å¤   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¿ç»´è‡ªåŠ¨åŒ–
- **è‡ªåŠ¨åŒ–éƒ¨ç½²**: GitOpså·¥ä½œæµ
- **å¥åº·æ£€æŸ¥**: å¤šå±‚å¥åº·æ£€æŸ¥æœºåˆ¶
- **è‡ªåŠ¨æ‰©ç¼©å®¹**: åŸºäºæŒ‡æ ‡çš„è‡ªåŠ¨æ‰©å±•
- **æ•…éšœè‡ªæ„ˆ**: è‡ªåŠ¨é‡å¯å’Œæ•…éšœè½¬ç§»
- **å¤‡ä»½æ¢å¤**: æ•°æ®å¤‡ä»½å’Œç¾éš¾æ¢å¤

## æœªæ¥æ¼”è¿›è§„åˆ’

### æŠ€æœ¯æ¼”è¿›
- **å¤šäº‘æ”¯æŒ**: AWSã€Azureç­‰äº‘å¹³å°æ”¯æŒ
- **è¾¹ç¼˜è®¡ç®—**: è¾¹ç¼˜èŠ‚ç‚¹éƒ¨ç½²ä¼˜åŒ–
- **WebAssembly**: WASMè¿è¡Œæ—¶æ”¯æŒ
- **AIä¼˜åŒ–**: AIé©±åŠ¨çš„èµ„æºè°ƒåº¦

### åŠŸèƒ½æ‰©å±•
- **æ›´å¤šè¯­è¨€**: æ”¯æŒæ›´å¤šç¼–ç¨‹è¯­è¨€ç¯å¢ƒ
- **GPUæ”¯æŒ**: GPUåŠ é€Ÿè®¡ç®—æ”¯æŒ
- **æŒä¹…åŒ–**: æ›´å¼ºçš„æ•°æ®æŒä¹…åŒ–èƒ½åŠ›
- **åä½œåŠŸèƒ½**: å¤šç”¨æˆ·åä½œå¼€å‘

---

## æ€»ç»“

E2B Infrastructureé€šè¿‡ç°ä»£åŒ–çš„å¾®æœåŠ¡æ¶æ„ã€å¼ºå¤§çš„å®‰å…¨éš”ç¦»æœºåˆ¶å’Œé«˜æ€§èƒ½çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œä¸ºAIä»£ç†æä¾›äº†ä¸€ä¸ªå®‰å…¨ã€å¯é ã€é«˜æ€§èƒ½çš„ä»£ç æ‰§è¡Œå¹³å°ã€‚å…¶è®¾è®¡å……åˆ†è€ƒè™‘äº†äº‘åŸç”Ÿã€å¯æ‰©å±•æ€§å’Œè¿ç»´æ•ˆç‡ï¼Œæ˜¯AIåŸºç¡€è®¾æ–½é¢†åŸŸçš„ä¸€ä¸ªä¼˜ç§€å®è·µæ¡ˆä¾‹ã€‚

**ç”Ÿæˆæ—¶é—´**: $(date)
**åˆ†æç‰ˆæœ¬**: v1.0
**é¡¹ç›®ç‰ˆæœ¬**: $(cat VERSION 2>/dev/null || echo "latest")